!function(e){Galleria.addTheme({name:"miniml",author:"Galleria",css:"galleria.miniml.css",defaults:{transition:"pulse",thumbCrop:true,imageCrop:true,carousel:false,imagePan:true,clicknext:true,_locale:{enter_fullscreen:"Enter fullscreen",exit_fullscreen:"Exit fullscreen",click_to_close:"Click to close",show_thumbnails:"Show thumbnails",show_info:"Show info"}},init:function(t){Galleria.requires(1.33,"This version of Miniml theme requires Galleria version 1.3.3 or later");var i=this,s=false,n,o=0,l,a,c;this.addElement("desc","dots","thumbs","fs","more");this.append({container:["desc","dots","thumbs","fs","info-description","more"]});c=this.$("thumbnails-container").hide().css("visibility","visible");var r=function(t){return e("<div>").html("&#8226;").on("click:fast",function(e){return function(t){t.preventDefault();i.show(e)}}(t))};for(n=0;n<this.getDataLength();n++){this.$("dots").append(r(n))}o=this.$("dots").outerWidth();l=this.$("desc").hide().hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")}).on("click:fast",function(){e(this).hide()});a=this.$("loader");this.bindTooltip({fs:function(){return s?t._locale.exit_fullscreen:t._locale.enter_fullscreen},desc:t._locale.click_to_close,more:t._locale.show_info,thumbs:t._locale.show_thumbnails});this.bind("loadstart",function(e){if(!e.cached){this.$("loader").show().fadeTo(200,.4)}});this.bind("loadfinish",function(e){var s=i.getData().title,n=i.getData().description;a.fadeOut(200);this.$("dots").children("div").eq(e.index).addClass("active").siblings(".active").removeClass("active");if(s&&n){l.empty().append("<strong>"+s+"</strong>","<p>"+n+"</p>");this.$("more").show()}else{this.$("more").hide()}c.fadeOut(t.fadeSpeed);i.$("thumbs").removeClass("active")});this.bind("thumbnail",function(t){e(t.thumbTarget).hover(function(){i.setInfo(t.index)},function(){i.setInfo()})});this.$("fs").on("click:fast",function(){i.toggleFullscreen();s=!s});this.$("thumbs").on("click:fast",function(t){t.preventDefault();c.toggle();e(this).toggleClass("active");l.hide()});this.$("more").on("click:fast",function(){l.toggle()});this.$("info").css({width:this.getStageWidth()-o-30,left:o+10})}})}(jQuery);